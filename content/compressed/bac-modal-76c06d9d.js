$(function(){$(".bac-save").on("click",function(b){var a=$(b.target).closest("form");$.ajax({url:a.attr("action"),type:"POST",xhrFields:{withCredentials:true},success:function(e){$(".bac-credits").each(function(){var h=$(this);h.text(h.text()-1)});var g=a.find('[name="tutorial_id"]').val();var f=a.find('[name="chapter_id"]').val();var d=a.find('[name="library"]').val();var c=$('<a href="'+d+'">');c.append('<div class="bac-btn bac-trigger bac-saved" data-toggle="popover" data-trigger="hover" data-placement="bottom" data-content="For each month you subscribe, you earn 1 credit which can be used to add a class to your library, where access never expires.">');$("."+g+(f?"-"+f:"")+"-bac-btn").parent().replaceWith(c);a.find(".info-start").addClass("hidden");a.find(".info-success").removeClass("hidden");a.find(".bac-cancel").text("Continue");a.find(".bac-save").remove()},error:function(c){a.find(".info-start").addClass("hidden");a.find(".info-error").removeClass("hidden");a.find(".bac-save").text("Try Again")},})})});
cbEffects.registerEffect({selector:".js-newsletter-signup",bindFunc:attachNewsletterSignupEffects,});function attachNewsletterSignupEffects(a,b){var b=$(b);if(!b.hasClass("js-newsletter-signup-init")){b.on("submit",newsletterSignupSubmitAjax);b.addClass("js-newsletter-signup-init")}}function newsletterSignupSubmitAjax(d){var c=$(d.target);var a=c.attr("action")+"/signup";var b=c.attr("method");var e={email:c.find('[name="email"]').val(),source_description:"newsletter",};c.find(".error").addClass("hidden");$.ajax({url:a,type:b,xhrFields:{withCredentials:true},dataType:"json",data:e,error:function(f){c.find(".error").removeClass("hidden")},success:function(h,f,g){ga("send","event","marketing","sign_up","footer newsletter sign_up form");c.replaceWith(c.find(".success").removeClass("hidden"))},});d.preventDefault()};